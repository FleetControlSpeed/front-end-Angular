<app-nav> </app-nav>
<section class="flex w-3/4 ml-48">
  <section class="flex-col flex w-full items-end">
    <section class="flex justify-between mt-14 mb-14">
      <a href="/cadastrar-usuario">
         <button
            type="button"
            class="focus:outline-none text-white bg-[#064F51] hover:bg-[#348789] focus:ring-4 focus:bg-[#064F51] font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2  dark:hover:bg-[#348789] dark:focus:bg-[#054E50]"
          >
            + Cadastrar Usuário
          </button>
        </a>

    </section>

    <section class="w-full flex items-center">
      <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
        <thead class="text-xs dark:text-gray-400">
          <tr>
            <th scope="col" class="px-6 py-3">ID</th>
            <th scope="col" class="px-6 py-3">NOME</th>
            <th scope="col" class="px-6 py-3">DATA DE NASCIMENTO</th>
            <th scope="col" class="px-6 py-3">CPF</th>
            <th scope="col" class="px-6 py-3">STATUS</th>
            <th scope="col" class="px-6 py-3">EDITAR</th>
          </tr>
        </thead>

        <tbody>
          <ng-container *ngFor="let usuario of usuarios; let i = index">
          <tr class="dark:border-gray-700" *ngIf="!editMode[i]">
            <th *ngIf="!editMode[i]"
              scope="row"
              class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-black"
            >
             {{ usuario.id}}
            </th>

            <td class="px-6 dark:text-black py-4" *ngIf="!editMode[i]">{{usuario.primeiroNome}} {{usuario.sobrenome}} </td>
            <td class="px-6 dark:text-black py-4" *ngIf="!editMode[i]">{{usuario.dataNascimento}} </td>
            <td class="px-6 dark:text-black py-4" *ngIf="!editMode[i]"> {{usuario.cpf}} </td>
            
            <td class="px-6 dark:text-black py-4">
              <a
                href="#"
                class="font-medium text-blue-600 dark:text-blue-500 hover:underline"
                ><button
                  [ngClass]="{
                    'btn-ativo': usuario.ativo,
                    'btn-inativo': !usuario.ativo
                }"
                 class="bg-transparent  text-[#064F51] font-semibold py-2 px-4 border border-[#064F51]  rounded">
                    {{usuario.ativo}}
                  </button></a
              >
            </td>
            <td class="px-6 dark:text-black py-4">
              <button (click)="editarItem(i)" type="submit">EDITAR</button>
            </td>
          </tr>
          <tr *ngIf="editMode[i]">
            <td>{{usuario.id}}</td>
            <td><input [(ngModel)]="usuarioEmEdicao.primeiroNome" placeholder="Nome" class="border border-solid border-black text-black "></td>
            <td><input [(ngModel)]="usuarioEmEdicao.dataNascimento" placeholder="Data de nascimento" class="border border-solid border-black text-black "></td>
            <td><input [(ngModel)]="usuarioEmEdicao.cpf" placeholder="Ano" class="border border-solid border-black text-black "></td>
            <td><input [(ngModel)]="usuarioEmEdicao.cpf" placeholder="Ano" class="border border-solid border-black text-black "></td>
            <td>
              <button (click)="salvarEdicao(i)" class="bg-green-300 mr-2">✅</button>
              <button (click)="cancelarEdicao(i)" class="bg-red-300">❌</button>
            </td>
          </tr>
        </ng-container>
        </tbody>
      </table>
    </section>
  </section>
</section>
