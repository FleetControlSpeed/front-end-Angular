<app-nav> </app-nav>

<section class="flex w-3/4 ml-48">
  <section class="flex-col flex w-full items-end">
    <section class="flex justify-between mt-14 mb-14">
        <a href="/cadastrar-multa"> <button
            type="button"
            class="focus:outline-none text-white bg-[#064F51] hover:bg-[#348789] focus:ring-4 focus:bg-[#064F51] font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2  dark:hover:bg-[#348789] dark:focus:bg-[#054E50]"
          >
            + Cadastrar multa
          </button>
        </a>

    </section>

    <section class="w-full flex items-center">
      <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
        <thead class="text-xs dark:text-gray-400">
          <tr>

            <th scope="col" class="px-6 py-3">VALOR</th>
            <th scope="col" class="px-6 py-3">TIPO</th>
            <th scope="col" class="px-6 py-3">DATA DA MULTA</th>
            <th scope="col" class="px-6 py-3">STATUS</th>
          </tr>
        </thead>

        <tbody>
        <ng-container *ngFor="let multa of multas let i = index">
          <tr class="dark:border-gray-700" >


            <td class="px-6 dark:text-black py-4" *ngIf="!editMode[i]">R$ {{multa.valor.toFixed(2) }} </td>
            <td class="px-6 dark:text-black py-4" *ngIf="!editMode[i]">{{multa.tipoMulta}} </td>
            <td class="px-6 dark:text-black py-4" >{{multa.dataMulta}}</td>
            <td class="px-6 dark:text-black py-4" *ngIf="!editMode[i]">
              <a
                href="#"
                class="font-medium text-blue-600 dark:text-blue-500 hover:underline"
                ><button
                  [ngClass]="{
                    'btn-ativo': multa.ativo,
                    'btn-inativo': !multa.ativo
                  }"
                class="bg-transparent text-[#064F51] font-semibold py-2 px-4 border border-[#064F51]  rounded">
                    {{multa.ativo}}
                  </button></a
              >
            </td>
          </tr>
          <tr *ngIf="editMode[i]">
            <td><input [(ngModel)]="multaEmEdicao.modelo" placeholder="Nome" class="border border-solid border-black text-black "></td>
            <td><input [(ngModel)]="multaEmEdicao.placa" placeholder="Data de nascimento" class="border border-solid border-black text-black "></td>
            <td><input [(ngModel)]="multaEmEdicao.ano" placeholder="Ano" class="border border-solid border-black text-black "></td>
            <td><input [(ngModel)]="multaEmEdicao.edicao" placeholder="Ano" class="border border-solid border-black text-black "></td>
            <td>
              <button (click)="salvarEdicao(i)" class="bg-green-300 mr-2">✅</button>
              <button (click)="cancelarEdicao(i)" class="bg-red-300">❌</button>
            </td>
          </tr>
        </ng-container>
        </tbody>
      </table>
    </section>
  </section>
</section>
